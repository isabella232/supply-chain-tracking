{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@splunk/themes/variables\"","webpack:///external \"@splunk/dashboard-visualizations/utils/propUtils\"","webpack:///external \"prop-types\"","webpack:///external \"@splunk/react-ui/Paginator\"","webpack:///external \"@splunk/themes/pick\"","webpack:///external \"@splunk/themes\"","webpack:///external \"@splunk/themes/SplunkThemeProvider\"","webpack:///./src/utils/paginationUtils.jsx","webpack:///external \"styled-components\"","webpack:///external \"@babel/runtime/helpers/taggedTemplateLiteral\""],"names":["NormalPaginatorContainer","styled","pick","enterprise","variables","prisma","contentColorActive","FixedHeightPaginatorContainer","getCurrentPage","offset","perPage","Math","getTotalPages","total","getDataOffset","page","handlePageChange","requestParams","onRequestParamsChange","getPaginationInformation","meta","getMeta","getRequestParams","totalCount","totalPages","currentPage","isPaging","renderPaginator","theme","pageChange","PaginatorContainer","getSettingsFromThemedProps","T","element"],"mappings":"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","file":"paginationUtils.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n","module.exports = require(\"react\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@splunk/themes/variables\");","module.exports = require(\"@splunk/dashboard-visualizations/utils/propUtils\");","module.exports = require(\"prop-types\");","module.exports = require(\"@splunk/react-ui/Paginator\");","module.exports = require(\"@splunk/themes/pick\");","module.exports = require(\"@splunk/themes\");","module.exports = require(\"@splunk/themes/SplunkThemeProvider\");","import React from 'react';\nimport styled from 'styled-components';\nimport T from 'prop-types';\nimport Paginator from '@splunk/react-ui/Paginator';\nimport pick from '@splunk/themes/pick';\nimport variables from '@splunk/themes/variables';\nimport { getSettingsFromThemedProps } from '@splunk/themes';\nimport SplunkThemeProvider from '@splunk/themes/SplunkThemeProvider';\nimport { getMeta, getRequestParams } from '@splunk/dashboard-visualizations/utils/propUtils';\n\nexport const NormalPaginatorContainer = styled.div`\n    color: ${pick({\n        enterprise: variables.textColor,\n        prisma: variables.contentColorActive,\n    })};\n    overflow: hidden;\n    position: relative;\n    text-align: right;\n    height: 32px;\n    padding: 5px 5px 5px 0px;\n`;\n\nexport const FixedHeightPaginatorContainer = styled(NormalPaginatorContainer)`\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 10px;\n`;\n/**\n * Returns the current page based on dataset parameters\n * @param {number} offset=0\n * @param {number} perPage=0\n * @returns {number|boolean} current page number based on offset and results per page, or false if perPage is 0\n */\nexport const getCurrentPage = (offset = 0, perPage = 0) => {\n    if (perPage === 0) {\n        return false;\n    }\n    return Math.floor(offset / perPage) + 1;\n};\n\n/**\n * Returns the total pages based on dataset parameters\n * @param {number} total=0 total pages in dataset\n * @param {number} perPage=0\n * @returns {number|boolean} total number of pages based on total pages in dataset and results per page, or false if perPage is 0\n */\nexport const getTotalPages = (total = 0, perPage = 0) => {\n    if (perPage === 0) {\n        return false;\n    }\n    return Math.ceil(total / perPage);\n};\n\n/**\n * Returns data offset based on dataset parameters\n * @param {number} page=1\n * @param {number} perPage=0\n * @returns {number} data offset based on page and results per page\n */\nexport const getDataOffset = (page = 1, perPage = 0) => {\n    if (page === 1) {\n        return 0;\n    }\n    return (page - 1) * perPage;\n};\n\n/**\n * Standard reusable handlePageChange method for usual primary datasource.\n * For standard pagination behavior this can imported and passed to renderPaginator.\n * @param {object} e the event triggering the page change\n * @param {Number} page newly selected page\n * @param {Boolean}  isPaging whether or not the data is paginated\n * @param {Function} onRequestParamsChange function to be executed with new request params for the new page\n * @param {object} requestParams the current requestParams object from the dataSource\n */\nexport const handlePageChange = (e, page, onRequestParamsChange, requestParams = {}) => {\n    onRequestParamsChange('primary', {\n        ...requestParams,\n        ...{ offset: getDataOffset(page, requestParams.count) },\n    });\n};\n\n/**\n * Returns all relevant pagination information based on visualization props\n * @param {object} vizProps props passed to the visualization\n * @returns {object} object containing all variables relevant to pagination state\n */\nexport const getPaginationInformation = vizProps => {\n    const meta = getMeta(vizProps);\n    const requestParams = getRequestParams(vizProps);\n\n    const totalCount = meta.totalCount || 0;\n    const perPage = requestParams.count;\n    const totalPages = getTotalPages(totalCount, perPage);\n    const { offset } = requestParams;\n    const currentPage = getCurrentPage(offset, perPage);\n    const isPaging = totalPages > 1;\n    return { totalCount, perPage, totalPages, offset, currentPage, isPaging, requestParams };\n};\n\n/**\n * Returns the Paginator React Element with parameters properly set based on visualization props\n * @param {Number} totalPages total pages in data\n * @param {Number} currentPage current page the viz is on\n * @param {Boolean}  isPaging whether or not the data is paginated\n * @param {object} requestParams the requestParams object from the dataSource\n * @param {Function} onRequestParamsChange function to be execute when the request parameters to the dataSource change\n * @param {Function} pageChange function to be executed when the user selects a new page\n * @param {React Element} PaginatorContainer Container to wrap the Paginator inside\n * @return {React Element} the Paginator wrapped inside the Paginator Container\n */\nexport const renderPaginator = ({\n    totalPages,\n    currentPage,\n    isPaging,\n    requestParams,\n    onRequestParamsChange,\n    theme,\n    pageChange = handlePageChange,\n    PaginatorContainer = NormalPaginatorContainer,\n}) =>\n    isPaging ? (\n        <SplunkThemeProvider {...getSettingsFromThemedProps({ theme })}>\n            <PaginatorContainer>\n                <Paginator\n                    current={currentPage}\n                    onChange={(e, { page }) => pageChange(e, page, onRequestParamsChange, requestParams)}\n                    totalPages={totalPages}\n                />\n            </PaginatorContainer>\n        </SplunkThemeProvider>\n    ) : null;\n\nrenderPaginator.propTypes = {\n    totalPages: T.number.isRequired,\n    currentPage: T.number.isRequired,\n    isPaging: T.bool.isRequired,\n    requestParams: T.object.isRequired,\n    onRequestParamsChange: T.func.isRequired,\n    theme: T.object,\n    pageChange: T.func,\n    PaginatorContainer: T.element,\n};\n","module.exports = require(\"styled-components\");","module.exports = require(\"@babel/runtime/helpers/taggedTemplateLiteral\");"],"sourceRoot":""}