{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///external \"@splunk/visualizations-shared/numberUtils\"","webpack:///external \"styled-components\"","webpack:///./src/common/GaugeValueMarker.jsx","webpack:///external \"@babel/runtime/helpers/extends\""],"names":["MARKER_THICKNESS","MARKER_INNER_LENGTH","MARKER_LABEL_WIDTH","MARKER_LABEL_HEIGHT","RADIUS","DELTA_LENGTH","ValueMarkerRect","styled","props","ValueMarkerLabelRect","ValueMarkerLabel","positionValueMarkerRect","x","y","orientation","valueMarkerRectLength","hLength","vLength","markerStartX","markerStartY","innerHLength","innerVLength","innerStartX","innerStartY","positionLabel","length","labelRectX","labelRectY","labelX","labelY","ValueMarker","min","max","value","showValue","usePercentageValue","valueMarkerFillColor","valueMarkerLabelFillColor","formatNumber","useThousandSeparators","useTrendUnits","T","string"],"mappings":"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","file":"GaugeValueMarker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"@splunk/visualizations-shared/numberUtils\");","module.exports = require(\"styled-components\");","import React from 'react';\nimport T from 'prop-types';\nimport styled from 'styled-components';\nimport { formatNumber } from '@splunk/visualizations-shared/numberUtils';\n\nconst MARKER_THICKNESS = 15;\nconst MARKER_INNER_LENGTH = 30;\n\nconst MARKER_LABEL_WIDTH = 60;\nconst MARKER_LABEL_HEIGHT = 25;\nconst RADIUS = 2;\nconst DELTA_LENGTH = 12;\n\nconst ValueMarkerRect = styled.path`\n    stroke-width: 2px;\n    fill: ${props => props.valueMarkerFillColor};\n`;\n\nconst ValueMarkerLabelRect = styled.rect`\n    fill: ${props => props.valueMarkerFillColor};\n`;\n\nconst ValueMarkerLabel = styled.text`\n    fill: ${props => props.valueMarkerLabelFillColor};\n    font-size: 14px;\n    font-family: Splunk Platform Sans, sans-serif;\n    line-height: 16px;\n    text-anchor: middle;\n    text-align: center;\n    dominant-baseline: middle;\n`;\n\n/**\n * calculate the path of Value Marker shape\n * @method positionValueMarkerRect\n * @param {Object} input\n * @param {Number} input.x\n * @param {Number} input.y\n * @param {String} input.orientation\n * @param {Number} input.valueMarkerRectLength\n * @return {String} d containing a series of path commands that define the path to be\n */\nexport const positionValueMarkerRect = ({ x, y, orientation, valueMarkerRectLength }) => {\n    let hLength = MARKER_THICKNESS;\n    let vLength = valueMarkerRectLength;\n    let markerStartX = x - MARKER_THICKNESS;\n    const markerStartY = y;\n\n    let innerHLength = hLength / 3;\n    let innerVLength = MARKER_INNER_LENGTH;\n    let innerStartX = markerStartX + innerHLength;\n    let innerStartY = markerStartY + 7;\n\n    if (orientation === 'vertical') {\n        hLength = valueMarkerRectLength;\n        vLength = MARKER_THICKNESS;\n        markerStartX = x;\n\n        innerHLength = MARKER_INNER_LENGTH;\n        innerVLength = vLength / 3;\n        innerStartX = markerStartX + 7;\n        innerStartY = markerStartY + innerVLength;\n    }\n\n    return (\n        `M${markerStartX},${markerStartY}h${hLength}a${RADIUS},${RADIUS} 0 0 1 ${RADIUS},${RADIUS}v${\n            vLength - 2 * RADIUS\n        }a${RADIUS},${RADIUS} 0 0 1 ${-RADIUS},${RADIUS}h${-hLength}a${RADIUS},${RADIUS} 0 0 1 ${-RADIUS},${-RADIUS}v${\n            2 * RADIUS - vLength\n        }a${RADIUS},${RADIUS} 0 0 1 ${RADIUS},${-RADIUS}z` +\n        `M${innerStartX},${innerStartY}v${\n            innerVLength - RADIUS\n        }a${RADIUS},${RADIUS} 0 0 0 ${RADIUS},${RADIUS}h${\n            innerHLength - 2 * RADIUS\n        }a${RADIUS},${RADIUS} 0 0 0 ${RADIUS},${-RADIUS}v${\n            RADIUS - innerVLength\n        }a${RADIUS},${RADIUS} 0 0 0 ${-RADIUS},${-RADIUS}h${\n            2 * RADIUS - innerHLength\n        }a${RADIUS},${RADIUS} 0 0 0 ${-RADIUS},${RADIUS}z`\n    );\n};\n\n/**\n * calculate the position of value marker label\n * @method positionLabel\n * @param {Object} input\n * @param {Number} input.x\n * @param {Number} input.y\n * @param {Number} input.length   gauge thickness\n * @param {String} input.orientation\n * @return {Object} positions\n * @return {Number} positions.labelRectX  x of value marker label rect\n * @return {Number} positions.labelRectY  y of value marker label rect\n * @return {Number} positions.labelX      x of value marker label text\n * @return {Number} positions.labelY      y of value marker label text\n */\nexport const positionLabel = ({ x, y, length, orientation }) => {\n    // for horizontal view\n    let labelRectX = x - MARKER_THICKNESS / 2 - MARKER_LABEL_WIDTH / 2;\n    let labelRectY = y + length;\n    if (orientation === 'vertical') {\n        labelRectX = x + length;\n        labelRectY = y - (MARKER_LABEL_HEIGHT - MARKER_THICKNESS) / 2;\n    }\n    const labelX = labelRectX + MARKER_LABEL_WIDTH / 2;\n    const labelY = labelRectY + MARKER_LABEL_HEIGHT / 2;\n    return { labelRectX, labelRectY, labelX, labelY };\n};\n\nconst ValueMarker = ({ ...props }) => {\n    const {\n        x,\n        y,\n        length,\n        min,\n        max,\n        value,\n        orientation,\n        showValue,\n        usePercentageValue,\n        valueMarkerFillColor,\n        valueMarkerLabelFillColor,\n    } = props;\n\n    const valueMarkerRectLength = length + DELTA_LENGTH;\n    const { labelRectX, labelRectY, labelX, labelY } = positionLabel({\n        x,\n        y,\n        length,\n        orientation,\n    });\n\n    return (\n        <g>\n            <ValueMarkerRect\n                data-test=\"value-marker-rect\"\n                d={positionValueMarkerRect({ x, y, orientation, valueMarkerRectLength })}\n                valueMarkerFillColor={valueMarkerFillColor}\n            />\n            {showValue && (\n                <g>\n                    <ValueMarkerLabelRect\n                        data-test=\"value-marker-label-rect\"\n                        x={labelRectX}\n                        y={labelRectY}\n                        width={MARKER_LABEL_WIDTH}\n                        height={MARKER_LABEL_HEIGHT}\n                        rx={RADIUS}\n                        ry={RADIUS}\n                        valueMarkerFillColor={valueMarkerFillColor}\n                    />\n                    <ValueMarkerLabel\n                        data-test=\"value-marker-label\"\n                        x={labelX}\n                        y={labelY}\n                        valueMarkerLabelFillColor={valueMarkerLabelFillColor}\n                    >\n                        {usePercentageValue\n                            ? `${((value / (max - min)) * 100).toFixed(2)}%`\n                            : formatNumber(value, 0, {\n                                  useThousandSeparators: true,\n                                  useTrendUnits: true,\n                              })}\n                    </ValueMarkerLabel>\n                </g>\n            )}\n        </g>\n    );\n};\n\nValueMarker.propTypes = {\n    x: T.number,\n    y: T.number,\n    length: T.number,\n    min: T.number,\n    max: T.number,\n    value: T.number,\n    orientation: T.string,\n    showValue: T.bool,\n    usePercentageValue: T.bool,\n    valueMarkerFillColor: T.string,\n    valueMarkerLabelFillColor: T.string,\n};\n\nValueMarker.defaultProps = {\n    min: 0,\n    max: 100,\n    orientation: 'horizontal',\n    showValue: true,\n    usePercentageValue: false,\n};\n\nexport default ValueMarker;\n","module.exports = require(\"@babel/runtime/helpers/extends\");"],"sourceRoot":""}