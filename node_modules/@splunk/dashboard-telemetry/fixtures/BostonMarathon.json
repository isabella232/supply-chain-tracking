{
    "dataSources": {
        "speed": {
            "name": "search1",
            "type": "ds.search",
            "options": {
                "query": "from index:main | stats count()",
                "queryParameters": {
                    "earliest": "-24h",
                    "latest": "now",
                    "timezone": "America/Los_Angeles"
                },
                "requiredFreshness": 60,
                "refresh": "30s",
                "refreshType": "delay"
            }
        }
    },
    "defaults": {
        "visualizations": {
            "global": {
                "options": {
                    "queryParameters": {
                        "earliest": "-30d@d",
                        "latest": "now"
                    }
                }
            }
        }
    },
    "inputs": {
        "input1": {
            "type": "input.dropdown",
            "title": "Runner",
            "options": {
                "items": [
                    {
                        "label": "Alan Duggan",
                        "value": "Alan"
                    },
                    {
                        "label": "Emily Melendez",
                        "value": "Emily"
                    },
                    {
                        "label": "Jasmin Rossi",
                        "value": "Jasmin"
                    }
                ],
                "token": "runner",
                "defaultValue": "Alan"
            }
        }
    },
    "layout": {
        "type": "absolute",
        "options": {
            "width": 1300,
            "height": 750,
            "display": "actual-size"
        },
        "structure": [
            {
                "item": "viz1",
                "type": "block",
                "position": {
                    "h": 730,
                    "w": 1280,
                    "x": 10,
                    "y": 10
                }
            }
        ],
        "globalInputs": [
            "input1"
        ]
    },
    "title": "Boston Marathon",
    "description": "",
    "visualizations": {
        "viz1": {
            "type": "viz.singlevalue",
            "title": "$runner$'s Body Temperature",
            "options": {
                "unit": "F",
                "numberPrecision": 1
            },
            "encoding": {
                "fill": {
                    "field": "primary[0]",
                    "format": {
                        "type": "rangevalue",
                        "ranges": [
                            {
                                "from": 100,
                                "value": "#cb3b43"
                            },
                            {
                                "to": 100,
                                "from": 99.8,
                                "value": "#ff7152"
                            },
                            {
                                "to": 99.8,
                                "from": 99.5,
                                "value": "#fc9850"
                            },
                            {
                                "to": 99.5,
                                "value": "#53a051"
                            }
                        ]
                    }
                }
            },
            "eventHandlers": [
                {
                    "options": {
                        "newTab": true,
                        "url": "https://www.splunk.com"
                    },
                    "type": "drilldown.customUrl"
                }
            ],
            "dataSources": {
                "primary": "speed"
            }
        },
        "viz2": {
            "type": "viz.img",
            "options": {
                "src": "data:image/png;base64,iVBORw0KGgoAAAANSU",
                "preserveAspectRatio": true
            }
        },
        "viz3": {
            "type": "viz.singlevalueicon",
            "encoding": {
                "trend": "primary.foo",
                "majorColor": {
                    "field": "primary[0]",
                    "format": {
                        "type": "matchvalue",
                        "matches": [
                            {
                                "match": "apple",
                                "value": "#cb3b43"
                            },
                            {
                                "match": "grape",
                                "value": "#ff7152"
                            },
                            {
                                "match": "pear",
                                "value": "#fc9850"
                            },
                            {
                                "match": "strawberry",
                                "value": "#f4df7a"
                            },
                            {
                                "match": "cherry",
                                "value": "#4beba8"
                            }
                        ],
                        "defaultValue": "#00ffff"
                    }
                }
            },
            "options": {
                "backgroundColor": "#dc4e41",
                "icon": "clock"
            }
        }
    }
}