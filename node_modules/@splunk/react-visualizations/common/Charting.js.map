{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///external \"lodash\"","webpack:///external \"styled-components\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@splunk/charting-bundle\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///./src/common/ChartingApi.ts","webpack:///external \"@splunk/ui-utils/i18n\"","webpack:///external \"@splunk/visualizations-shared/Message\"","webpack:///external \"react-event-listener\"","webpack:///external \"@splunk/visualization-context/TimezoneContext\"","webpack:///external \"@splunk/visualizations-shared/style\"","webpack:///./src/common/Charting.jsx","webpack:///external \"@splunk/visualizations-shared/i18n\""],"names":["NO_INPLACE_PROPS","jsCharting","changedOptions","k","a","b","ChartingContainer","styled","toDimension","pick","Charting","debounce","options","chartData","themeKey","colorPalette","updatedOptions","shouldColorizeTooltipData","width","height","serializedTimezone","get","ianaTimezone","utcOffset","drilldown","window","rect","type","originalEvent","payload","nextOptions","nextProps","nextData","currentOptions","currentData","isEqual","style","onContainerMount","drawChart","_","curOptions","p","Component","T","onEventTrigger","onClick","onSelect","onPointMouseOver","onPointMouseOut","visualizationApiRef","func","TimezoneContext"],"mappings":";;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,uC;;;;;;ACAA,kC;;;;;;ACAA,kE;;;;;;ACAA,yE;;;;;;ACAA,mC;;;;;;ACAA,8C;;;;;;;ACAA,kE;;;;;;ACAA,+D;;;;;;ACAA,kE;;;;;;ACAA,oD;;;;;;;ACAA,4D;;;;;;ACAA,6E;;;;;;;;;;;;;;;;;;ICiBM,W;AAGF,uBAAY,QAAZ,EAAoB;AAAA;;AAChB,SAAK,QAAL,GAAgB,QAAhB;AACH;AAED;;;;AAIG;;;;;WACH,qBAAwE;AAAA,qFAA9B;AAAE,cAAM,EAAE,EAAV;AAAc,kBAAU,EAAE;AAA1B,OAA8B;AAAA,UAA5D,MAA4D,QAA5D,MAA4D;AAAA,UAApD,UAAoD,QAApD,UAAoD;;AACpE,WAAK,QAAL,CAAc,KAAd,CAAoB,SAApB,CAA8B,MAA9B,EAAsC,UAAtC;AACH;AAED;;;;AAIG;;;;WACH,uBAAW;AACP,WAAK,QAAL,CAAc,KAAd,CAAoB,WAApB;AACH;;;;;;AAGL,kBAAe,WAAf,C;;;;;;AC3CA,kD;;;;;;ACAA,kE;;;;;;ACAA,iD;;;;;;ACAA,0E;;;;;;ACAA,gE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;AACA;AACA;AACA;AACA;AACA;CAC6C;;AAC7C;AACA;AACA;AACA;AACA;AACA;AAEO,IAAMA,gBAAgB,GAAG,oEAAzB,kBAAyB,CAAzB;AAQPC,+DAAU,CAAVA;AAEO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAC1B,MAAM,CAAN,eACY,aAAC;AAAA,WAAI,EAAEC,CAAC,IAAP,CAAI,CAAJ;AADb,YAEY,MAAM,CAAN,eAAsB,aAAC;AAAA,WAAI,EAAEA,CAAC,IAAH,MAAaC,CAAC,CAADA,CAAC,CAADA,KAASC,CAAC,CAA3B,CAA2B,CAA3B;AAHT,GAGd,CAFZ,CAD0B;AAAvB;AAKP,IAAMC,iBAAiB,GAAGC,yDAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA;AAAA,CAAGA,EAAH,2CAAGA,EAGpB,iBAAK;AAAA,SAAIC,wFAAW,CAACC,mDAAI,QAAQ,UAA5B,QAA4B,CAAR,CAAL,CAAf;AAHX,CAA0BF,CAA1B;;IAMqBG,Q;;;;;AA+HjB,oCAA4B;AAAA;;AAAA;;AACxB;;AADwB,0LAjEhBC,uDAAQ,CAAC,YAAM;AAAA,wBACgC,MADhC;AAAA,UACfC,OADe;AAAA,UACNC,SADM;AAAA,UACKC,QADL;AAAA,UACeC,YADf;;AAEvB,UAAMC,cAAc;AAAiBC,iCAAyB,EAAE;AAA5C,QAApB;;AAFuB,kCAGG,MAHH,mBAGG,EAHH;AAAA,UAGfC,KAHe;AAAA,UAGRC,MAHQ;;AAIvB,UAAMC,kBAAkB,GAAGC,kDAAG,6FAAO,YAArC,oBAAqC,CAAP,CAA9B;AACA,UAAMC,YAAY,GAAGD,kDAAG,6FAAO,YAA/B,cAA+B,CAAP,CAAxB;AACA,UAAME,SAAS,GAAGF,kDAAG,6FAAO,YAA5B,WAA4B,CAAP,CAArB;;AACA,UAAI,UAAU,CAAd,QAAuB;AACnB;AACH;;AACD,UAAI,cAAc,CAACR,SAAS,CAA5B,QAAqC;AACjC;AACH;;AACD,UAAI;AACA,YAAI,MAAJ,WAAoB;AAChB;;AACAZ,yEAAU,CAAVA;;AACA,cAAIc,YAAY,CAAZA,SAAJ,GAA6B;AACzBd,2EAAU,CAAVA;AACH;;AACD,wBAAa,+DAAU,CAAV,YAAuB,MAAvB;AAETuB,qBAAS,EAAE;AAFF,aAGL,0CAA0C;AAC1C,iCAAqBJ;AADqB,WAHrC,GAML,oCAAoC;AACpC,iCAAqBE;AADe,WAN/B,GASL,iCAAiC;AACjC,mCAAuBC;AADU,WAT5B,EAAb,CANgB,CAmBhB;;AACA,uCAA4B,aAAK;AAC7B;AADJ;;AAGA,2CAAgC,aAAK;AACjC;AADJ;;AAGA,0CAA+B,aAAK;AAChC;AADJ;;AAGA,wCAA6B,aAAK;AAC9B;AADJ;;AAGA,6CAAkC,MAAlC;AACH;;AACD,YAAI,MAAJ,aAAsB;AAClBtB,yEAAU,CAAVA;;AACA,cAAIc,YAAY,CAAZA,SAAJ,GAA6B;AACzBd,2EAAU,CAAVA;AACH;;AACD,gEAAqD,YAAM,CAA3D;AACH;;AACD,YAAI,MAAJ,OAAgB;AACZ;AACH;;AACD;AACA;AA9CJ,QA+CE,UAAU;AACRwB,cAAM,CAANA;AACH;AA9De,SAiEQ;;AAAA,iMAsCT,qBAAa;AAC5B;;AACA;AAxCwB;;AAAA,oMA2CN,YAAM;AACxB,UAAI,MAAJ,WAAoB;AAChB,YAAMC,IAAI,GAAG,gBAAb,qBAAa,EAAb;;AACA,eAAO;AACHP,gBAAM,EAAEO,IAAI,CADT;AAEHR,eAAK,EAAEQ,IAAI,CAACR;AAFT,SAAP;AAIH;;AACD;AAnDwB;;AAAA,4LAsDd,4BAAsB;AAChC;AACA,UAAI,uBAAsB,OAAO,YAAP,YAA1B,YAAoE;AAChE,4BAAmB;AACfS,cAAI,EADW;AAEfC,uBAAa,EAFE;AAGfC,iBAAO,EAAEpB,mDAAI;AAHE,SAAnB;;AAeA;AAlB4B,QAqBhC;AACA;;;AACA,iCAA0B;AACtBkB,YAAI,EADkB;AAEtBC,qBAAa,EAFS;AAGtBC,eAAO,EAAEpB,mDAAI;AAHS,OAA1B;AA7EwB;;AAAA,qMA6FL,4BAAsB;AACzC,mCAA4B;AACxBkB,YAAI,EADoB;AAExBC,qBAAa,EAFW;AAGxBC,eAAO,EAAEpB,mDAAI;AAHW,OAA5B;AA9FwB;;AAAA,oMA+GN,4BAAsB;AACxC,kCAA2B;AACvBkB,YAAI,EADmB;AAEvBC,qBAAa,EAFU;AAGvBC,eAAO,EAAEpB,mDAAI;AAHU,OAA3B;AAhHwB;;AAAA,6LAiIb,sBAAc;AACzB;AACA,UAAI,wBAAuB,OAAO,YAAP,aAA3B,YAAsE;AAClE,6BAAoB;AAChBkB,cAAI,EADY;AAEhBC,uBAAa,EAFG;AAGhBC,iBAAO,EAAEpB,mDAAI;AAHG,SAApB;;AAMA;AATqB,QAYzB;;;AACA,iCAA0B;AACtBkB,YAAI,EADkB;AAEtBC,qBAAa,EAFS;AAGtBC,eAAO,EAAEpB,mDAAI;AAHS,OAA1B;AA9IwB;;AAExB;AACA;AACA;AACA,gBAAW,6IAAX,KAAW,EAAX;AALwB;AAM3B;;;;WAED,6BAAoB;AAChB;AACA,qCAA+B,KAA/B;MAGJ;;;;WACA,qDAA4C;AAAA,UACvBqB,WADuB,GACcC,SADd;AAAA,UACCC,QADD,GACcD,SADd;AAAA,yBAEoB,KAFpB;AAAA,UAEvBE,cAFuB;AAAA,UAEIC,WAFJ;;AAGxC,UAAI,CAAC,KAAD,SAAe,CAACxB,QAAQ,CAARA,iCAApB,WAAoBA,CAApB,EAA4E;AACxE;AACH;;AACD,UACI,CAACyB,sDAAO,iBAAR,WAAQ,CAAR,IACA,CAACA,sDAAO,CAACD,WAAW,CAAZ,MAACA,EAAD,EAAuBF,QAAQ,CADvC,MAC+BA,EAAvB,CADR,IAEA,CAACG,sDAAO,CAACD,WAAW,CAAZ,aAA0BF,QAAQ,CAH9C,WAGY,CAHZ,EAIE;AACE;AACH;AACJ;;;WAED,8BAAqB;AACjB;AACH;;;WAED,gCAAuB;AACnB;AACA;AACH;;;WAiHD,wBAAe;AACX,UAAI,KAAJ,OAAgB;AACZ;AACA;AACH;;AACD;AACA;AACH;;;WAED,kBAAS;AAAA,yBACuC,KADvC;AAAA,UACGd,KADH;AAAA,UACUC,MADV;AAAA,UACkBiB,KADlB;AAAA,UACyBvB,SADzB;AAEL,0BACI;AAAmB,aAAK,EAAxB;AAAiC,aAAK,EAAtC;AAA+C,cAAM,EAArD;AAA+D,WAAG,EAAE,KAAKwB;AAAzE,sBACI;AAAe,cAAM,EAArB;AAA+B,gBAAQ,EAAE,KAAKC;AAA9C,QADJ,EAEK,2BAAc;AAAS,YAAI,EAAEC,+DAAC,CAAhB,eAAgB,CAAhB;AAAmC,aAAK,EAAC;AAAzC,QAFnB,EAGK1B,SAAS,IAAI,CAACA,SAAS,CAAvBA,uBAAkC;AAAS,YAAI,EAAE0B,+DAAC,CAAhB,WAAgB,CAAhB;AAA+B,aAAK,EAAC;AAArC,QAHvC,CADJ;AAOH;;;;AAlPD;AACJ;AACA;AACI,uDAAiD;AAC7C,aACI,CAAC,gBAAgB,CAAhB,KAAsB,aAAC;AAAA,eAAIC,UAAU,CAAVA,CAAU,CAAVA,KAAkBV,WAAW,CAAjC,CAAiC,CAAjC;AAAxB,OAAC,CAAD,IACA,CAAC,cAAc,aAAd,WAAc,CAAd,MAA6C,aAAC;AAAA,eAAIW,CAAC,CAADA,uBAAJ,OAAIA,CAAJ;AAFnD,OAEK,CAFL;AAIH;;;;EA5DiCC,+C;;6EAAjBhC,Q,eACE;AACf;AACR;AACA;AACQQ,OAAK,EAAEyB,kDAAC,CAADA,UAAY,CAACA,kDAAC,CAAF,QAAWA,kDAAC,CAJhB,MAII,CAAZA,CAJQ;;AAKf;AACR;AACA;AACQxB,QAAM,EAAEwB,kDAAC,CAADA,UAAY,CAACA,kDAAC,CAAF,QAAWA,kDAAC,CARjB,MAQK,CAAZA,CARO;;AASf;AACR;AACA;AACQ/B,SAAO,EAAE+B,kDAAC,CAZK;;AAaf;AACR;AACA;AACQ9B,WAAS,EAAE8B,kDAAC,CAhBG;;AAiBf;AACR;AACA;AACQC,gBAAc,EAAED,kDAAC,CApBF;AAqBfE,SAAO,EAAEF,kDAAC,CArBK;AAsBfG,UAAQ,EAAEH,kDAAC,CAtBI;AAuBfI,kBAAgB,EAAEJ,kDAAC,CAvBJ;AAwBfK,iBAAe,EAAEL,kDAAC,CAxBH;;AAyBf;AACR;AACA;AACQP,OAAK,EAAEO,kDAAC,CA5BO;AA6Bf7B,UAAQ,EAAE6B,kDAAC,CA7BI;AA8Bf5B,cAAY,EAAE4B,kDAAC,CA9BA;AA+BfM,qBAAmB,EAAEN,kDAAC,CAACO;AA/BR,C;;6EADFxC,Q,kBAmCK;AAClBQ,OAAK,EADa;AAElBN,SAAO,EAFW;AAGlBwB,OAAK,EAHa;AAIlB;AACAQ,gBAAc,EAAE,0BAAM,CALJ;AAMlB;AACAC,SAAO,EAPW;AAQlBC,UAAQ,EARU;AASlBC,kBAAgB,EAAE,4BAAM,CATN;AAUlBC,iBAAe,EAAE,2BAAM,CAVL;AAWlBjC,cAAY,EAXM;AAYlBkC,qBAAmB,EAAE,+BAAM,CAAE;AAZX,C;;6EAnCLvC,Q,iBAkDIyC,qF;;;;;;;;ACrFzB,+D","file":"Charting.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","module.exports = require(\"lodash\");","module.exports = require(\"styled-components\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@splunk/charting-bundle\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","interface Point {\n    /**\n     * Valid xValue of the chart\n     *\n     * @type {string|number}\n     * @memberof Point\n     */\n    xValue?: string | number;\n\n    /**\n     * Valid seriesName for a chart\n     *\n     * @type {string}\n     * @memberof Point\n     */\n    seriesName?: string;\n}\nclass ChartingApi {\n    charting;\n\n    constructor(charting) {\n        this.charting = charting;\n    }\n\n    /**\n     * Allows users to programmatically highlight a point on the chart\n     *\n     * @memberof ChartingApi\n     */\n    highlight({ xValue, seriesName }: Point = { xValue: '', seriesName: '' }) {\n        this.charting.chart.highlight(xValue, seriesName);\n    }\n\n    /**\n     * Allows users to programmatically unhighlight all points on the chart\n     *\n     * @memberof ChartingApi\n     */\n    unHighlight() {\n        this.charting.chart.unHighlight();\n    }\n}\n\nexport default ChartingApi;\n","module.exports = require(\"@splunk/ui-utils/i18n\");","module.exports = require(\"@splunk/visualizations-shared/Message\");","module.exports = require(\"react-event-listener\");","module.exports = require(\"@splunk/visualization-context/TimezoneContext\");","module.exports = require(\"@splunk/visualizations-shared/style\");","/* eslint-disable import/first, react/prop-types */\nimport { pick, debounce, isEqual, get } from 'lodash';\nimport { _ } from '@splunk/ui-utils/i18n';\nimport React, { Component } from 'react';\nimport T from 'prop-types';\nimport EventListener from 'react-event-listener';\nimport '@splunk/visualizations-shared/i18n'; // fixme, @splunk/charting should be refactor to use locale & timezone instead of i18n functions\nimport TimezoneContext from '@splunk/visualization-context/TimezoneContext';\nimport jsCharting from '@splunk/charting-bundle';\nimport { toDimension } from '@splunk/visualizations-shared/style';\nimport styled from 'styled-components';\nimport Message from '@splunk/visualizations-shared/Message';\nimport ChartingApi from './ChartingApi';\n\nexport const NO_INPLACE_PROPS = [\n    'chart',\n    'chart.orientation',\n    'layout.splitSeries',\n    'chart.style',\n    'legend.placement',\n];\n\njsCharting.enableScaledEvents();\n\nexport const changedOptions = (a, b) =>\n    Object.keys(a)\n        .filter(k => !(k in b))\n        .concat(Object.keys(b).filter(k => !(k in a) || a[k] !== b[k]));\n\nconst ChartingContainer = styled.div`\n    overflow: hidden;\n    position: relative;\n    ${props => toDimension(pick(props, ['width', 'height']))};\n`;\n\nexport default class Charting extends Component {\n    static propTypes = {\n        /**\n         * width in pixel or string, defaults to 100%\n         */\n        width: T.oneOfType([T.string, T.number]),\n        /**\n         * height in pixel or string\n         */\n        height: T.oneOfType([T.string, T.number]),\n        /**\n         * visualization formatting options\n         */\n        options: T.object,\n        /**\n         * charting dataset from jsCharting.extractChartReadyData\n         */\n        chartData: T.object,\n        /**\n         * callbacks to trigger event\n         */\n        onEventTrigger: T.func,\n        onClick: T.func,\n        onSelect: T.func,\n        onPointMouseOver: T.func,\n        onPointMouseOut: T.func,\n        /**\n         * Custom style on visualization\n         */\n        style: T.object,\n        themeKey: T.string,\n        colorPalette: T.array,\n        visualizationApiRef: T.func,\n    };\n\n    static defaultProps = {\n        width: '100%',\n        options: {},\n        style: {},\n        // todo: need remove it\n        onEventTrigger: () => {},\n        // todo: need change to a function\n        onClick: null,\n        onSelect: null,\n        onPointMouseOver: () => {},\n        onPointMouseOut: () => {},\n        colorPalette: [],\n        visualizationApiRef: () => {},\n    };\n\n    static contextType = TimezoneContext;\n\n    /**\n     * Check if a chart can be updated without re-init\n     */\n    static canUpdateInPlace(curOptions, nextOptions) {\n        return (\n            !NO_INPLACE_PROPS.some(p => curOptions[p] !== nextOptions[p]) &&\n            !changedOptions(curOptions, nextOptions).some(p => p.toLowerCase().endsWith('color'))\n        );\n    }\n\n    drawChart = debounce(() => {\n        const { options, chartData, themeKey, colorPalette } = this.props;\n        const updatedOptions = { ...options, shouldColorizeTooltipData: false };\n        const { width, height } = this.computeChartingSize();\n        const serializedTimezone = get(this, ['context', 'serializedTimezone']);\n        const ianaTimezone = get(this, ['context', 'ianaTimezone']);\n        const utcOffset = get(this, ['context', 'utcOffset']);\n        if (!width || !height) {\n            return;\n        }\n        if (!chartData || !chartData.length) {\n            return;\n        }\n        try {\n            if (this.needsInit) {\n                this.destroyChart();\n                jsCharting.setTheme(themeKey);\n                if (colorPalette.length > 0) {\n                    jsCharting.setColorPalette(colorPalette);\n                }\n                this.chart = jsCharting.createChart(this.container, {\n                    ...updatedOptions,\n                    drilldown: 'all',\n                    ...(typeof serializedTimezone === 'string' && {\n                        'time.serializedTz': serializedTimezone,\n                    }),\n                    ...(typeof ianaTimezone === 'string' && {\n                        'time.ianaTimezone': ianaTimezone,\n                    }),\n                    ...(typeof utcOffset === 'number' && {\n                        'time.timezoneOffset': utcOffset,\n                    }),\n                });\n                // bind event handlers\n                this.chart.on('pointClick', e => {\n                    this.handleClick(e, 'point.click');\n                });\n                this.chart.on('pointMouseOver', e => {\n                    this.handlePointMouseOver(e, 'point.mouseover');\n                });\n                this.chart.on('pointMouseOut', e => {\n                    this.handlePointMouseOut(e, 'point.mouseout');\n                });\n                this.chart.on('legendClick', e => {\n                    this.handleClick(e, 'legend.click');\n                });\n                this.chart.on('chartRangeSelect', this.handleSelect);\n            }\n            if (this.needsRedraw) {\n                jsCharting.setTheme(themeKey);\n                if (colorPalette.length > 0) {\n                    jsCharting.setColorPalette(colorPalette);\n                }\n                this.chart.prepareAndDraw(chartData, updatedOptions, () => {});\n            }\n            if (this.chart) {\n                this.chart.resize(width, height);\n            }\n            this.needsInit = false;\n            this.needsRedraw = false;\n        } catch (e) {\n            window.console.error('Caught error rendering chart:', e);\n        }\n    }, 5);\n\n    constructor(props, context) {\n        super(props, context);\n        this.needsInit = true;\n        this.needsRedraw = true;\n        this.container = null;\n        this.api = new ChartingApi(this);\n    }\n\n    componentDidMount() {\n        this.drawChart();\n        this.props.visualizationApiRef(this.api);\n    }\n\n    // eslint-disable-next-line camelcase\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const { options: nextOptions, chartData: nextData } = nextProps;\n        const { options: currentOptions, chartData: currentData } = this.props;\n        if (!this.chart || !Charting.canUpdateInPlace(currentOptions, nextOptions)) {\n            this.needsInit = true;\n        }\n        if (\n            !isEqual(currentOptions, nextOptions) ||\n            !isEqual(currentData.toJSON(), nextData.toJSON()) ||\n            !isEqual(currentData.annotations, nextData.annotations)\n        ) {\n            this.needsRedraw = true;\n        }\n    }\n\n    componentDidUpdate() {\n        this.drawChart();\n    }\n\n    componentWillUnmount() {\n        this.props.visualizationApiRef(null);\n        this.destroyChart();\n    }\n\n    onContainerMount = container => {\n        this.container = container;\n        this.drawChart();\n    };\n\n    computeChartingSize = () => {\n        if (this.container) {\n            const rect = this.container.getBoundingClientRect();\n            return {\n                height: rect.height,\n                width: rect.width,\n            };\n        }\n        return {};\n    };\n\n    handleClick = (chartEvent, type) => {\n        // todo: need change this after breaking all visualizations\n        if (this.props.onClick && typeof this.props.onClick === 'function') {\n            this.props.onClick({\n                type,\n                originalEvent: chartEvent,\n                payload: pick(\n                    chartEvent,\n                    'name',\n                    'value',\n                    'name2',\n                    'value2',\n                    '_span',\n                    'rowContext',\n                    'modifierKey'\n                ),\n            });\n\n            return;\n        }\n\n        // todo: need remove it after breaking all visualizations\n        // the chartEvent here is a jQuery event\n        this.props.onEventTrigger({\n            type,\n            originalEvent: chartEvent,\n            payload: pick(\n                chartEvent,\n                'name',\n                'value',\n                'name2',\n                'value2',\n                '_span',\n                'rowContext',\n                'modifierKey'\n            ),\n        });\n    };\n\n    handlePointMouseOver = (chartEvent, type) => {\n        this.props.onPointMouseOver({\n            type,\n            originalEvent: chartEvent,\n            payload: pick(\n                chartEvent,\n                'name',\n                'value',\n                'name2',\n                'value2',\n                '_span',\n                'rowContext',\n                'modifierKey',\n                'tooltipContext'\n            ),\n        });\n    };\n\n    handlePointMouseOut = (chartEvent, type) => {\n        this.props.onPointMouseOut({\n            type,\n            originalEvent: chartEvent,\n            payload: pick(\n                chartEvent,\n                'name',\n                'value',\n                'name2',\n                'value2',\n                '_span',\n                'rowContext',\n                'modifierKey',\n                'tooltipContext'\n            ),\n        });\n    };\n\n    handleSelect = chartEvent => {\n        // todo: need change this after breaking all visualizations\n        if (this.props.onSelect && typeof this.props.onSelect === 'function') {\n            this.props.onSelect({\n                type: 'range.select',\n                originalEvent: chartEvent,\n                payload: pick(chartEvent, 'startXIndex', 'endXIndex', 'startXValue', 'endXValue'),\n            });\n\n            return;\n        }\n\n        // the chartEvent here is a jQuery event\n        this.props.onEventTrigger({\n            type: 'range.select',\n            originalEvent: chartEvent,\n            payload: pick(chartEvent, 'startXIndex', 'endXIndex', 'startXValue', 'endXValue'),\n        });\n    };\n\n    destroyChart() {\n        if (this.chart) {\n            this.chart.destroy();\n            this.chart = null;\n        }\n        this.needsRedraw = true;\n        this.needsInit = true;\n    }\n\n    render() {\n        const { width, height, style, chartData } = this.props;\n        return (\n            <ChartingContainer style={style} width={width} height={height} ref={this.onContainerMount}>\n                <EventListener target={window} onResize={this.drawChart} />\n                {!chartData && <Message text={_('No DataSource')} level=\"warning\" />}\n                {chartData && !chartData.length && <Message text={_('No Result')} level=\"info\" />}\n            </ChartingContainer>\n        );\n    }\n}\n","module.exports = require(\"@splunk/visualizations-shared/i18n\");"],"sourceRoot":""}